#include <iostream>
#include <windows.h>

using namespace std;

void proverka(double& a) {
	while (!(cin >> a) || cin.get() != '\n') {
		cin.clear();
		cin.ignore(31241234, '\n');
		cout << "Введите числовое значение переменной:\n";
	}
}

void main() {
	SetConsoleCP(1251);
	SetConsoleOutputCP(1251);
	cout << "Задача ЗАЕМ\n"; // m=(Sr(1+r)^n)/(12((1 + r)^N -1))
	cout << "Введите в программу значения переменных, чтобы узнать месячную выплату:\n";
	double p, S, n, r;
	r = p / 100;
	cout << "Введите процент, под который взят заем:\t";
	proverka(p);
	if (p <= 0 || p > 100) {
		cin.clear();
		cin.ignore(4234325, '\n');
		cout << "Введите корректное значение переменной (от 0 до 100):\n";
	}
	else if (p > 0 && p <= 100) {
		cout << "Введите количество лет, на которое взят заем\t";
		proverka(n);
		if (n <= 0) {
			cin.clear();
			cin.ignore(4234325, '\n');
			cout << "Введите корректное значение переменной (от 0 и больше):\n";
		}
		else if (n > 0) {
			cout << "Введите сумму заема:\t";
			proverka(S);
			if (S <= 0) {
				cin.clear();
				cin.ignore(4234325, '\n');
				cout << "Введите корректное значение переменной (от 0):\n";
			}
			else if (S > 0) {
				cout << "Месячная выплата = \t" << ((S * r) * pow(1 + r, n)) / (12 * (pow(1 + r, n) - 1)) << endl;
			}
		}
	}
}
